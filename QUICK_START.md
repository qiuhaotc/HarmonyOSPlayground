# 记账本应用 - 快速开始指南

## 🎉 已实现的功能

### ✅ 核心功能
1. **记账功能** - 记录收入和支出,支持多种分类
2. **账单列表** - 查看和管理账单,按月份筛选
3. **统计分析** - 按年月和分类统计,查看详细数据
4. **数据持久化** - 使用关系型数据库存储

### ✅ 技术特性
- 使用ArkTS开发
- ArkUI声明式UI
- RelationalStore数据库
- 完整的CRUD操作
- 路由导航管理

## 📁 项目文件说明

### 1. 数据模型层 (models/)
- `BillModel.ets` - 账单数据模型、分类定义、枚举类型

### 2. 数据库层 (database/)
- `BillDatabase.ets` - 关系型数据库管理类,提供增删改查方法

### 3. 工具类 (utils/)
- `BillStatisticsUtil.ets` - 账单统计计算工具
- `DateUtil.ets` - 日期时间处理工具

### 4. 页面层 (pages/)
- `Index.ets` - 应用主页,数据库初始化
- `AddBillPage.ets` - 添加账单页面
- `BillListPage.ets` - 账单列表页面
- `StatisticsPage.ets` - 统计分析页面
- `CategoryDetailPage.ets` - 分类详情页面

## 🚀 如何运行

### 方法1: 使用DevEco Studio
1. 打开DevEco Studio
2. 选择 File -> Open -> 选择项目目录
3. 等待项目索引完成
4. 连接设备或启动模拟器
5. 点击运行按钮 ▶️

### 方法2: 使用命令行
```bash
# 进入项目目录
cd d:\Code\HarmonyOS\MyApplication

# 构建项目
hvigorw assembleHap

# 安装到设备
hdc install entry/build/default/outputs/default/entry-default-signed.hap
```

## 📱 使用流程

### 第一次使用
1. **启动应用** - 应用会自动初始化数据库
2. **记一笔** - 点击主页"记一笔"按钮开始记账
3. **选择类型** - 选择支出或收入
4. **选择分类** - 从预定义分类中选择
5. **输入金额** - 输入账单金额
6. **保存** - 点击保存按钮

### 查看账单
1. **进入列表** - 点击主页"账单列表"
2. **切换月份** - 使用 < > 按钮切换查看不同月份
3. **查看统计** - 页面顶部显示收入、支出、结余
4. **删除账单** - 左滑账单可删除

### 统计分析
1. **进入统计** - 点击主页"统计分析"或列表页"统计"
2. **查看总览** - 查看月度收支总览
3. **查看分类** - 查看各分类支出占比
4. **查看详情** - 点击分类查看该分类的所有账单

## 🎨 界面预览

### 主页
```
┌─────────────────────┐
│      记账本         │
│                     │
│   [记一笔]         │
│   [账单列表]       │
│   [统计分析]       │
│                     │
│  简单记账,清晰理财  │
└─────────────────────┘
```

### 添加账单页面
```
┌─────────────────────┐
│  返回    记一笔     │
├─────────────────────┤
│  金额               │
│  ¥ 0.00            │
├─────────────────────┤
│  [支出]  [收入]    │
├─────────────────────┤
│  分类               │
│  🍔🚗🛍️🎬💊🏠📚📱 │
├─────────────────────┤
│  日期: 2025年11月01日│
├─────────────────────┤
│  备注: ___________  │
├─────────────────────┤
│     [保存]         │
└─────────────────────┘
```

### 账单列表
```
┌─────────────────────┐
│ 账单列表    统计    │
├─────────────────────┤
│ < 2025年11月 >     │
├─────────────────────┤
│ 收入¥0  支出¥0  结余¥0│
├─────────────────────┤
│ 餐饮              │
│ 2025年11月01日 12:30│
│ 午餐         -¥50.00│
├─────────────────────┤
│ 交通              │
│ 2025年11月01日 08:00│
│ 地铁         -¥6.00 │
└─────────────────────┘
       [+]
```

## 📊 数据结构

### 账单表 (bills)
| 字段 | 类型 | 说明 |
|-----|------|------|
| id | INTEGER | 主键,自增 |
| amount | REAL | 金额 |
| type | TEXT | 类型(income/expense) |
| category | TEXT | 分类 |
| date | TEXT | 日期(YYYY-MM-DD) |
| time | TEXT | 时间(HH:mm:ss) |
| note | TEXT | 备注 |
| createTime | TEXT | 创建时间 |

## 🔧 调试技巧

### 1. 查看日志
```bash
hdc shell hilog | grep BillDatabase
```

### 2. 清空数据库(测试用)
在代码中可以调用:
```typescript
await billDb.clearAllBills();
```

### 3. 检查数据库
```bash
hdc shell
cd /data/app/el2/100/database/com.example.myapplication
ls -la
```

## ⚠️ 注意事项

1. **首次启动** - 应用会自动创建数据库,无需手动操作
2. **数据备份** - 目前不支持自动备份,请注意数据安全
3. **删除操作** - 删除账单不可恢复,请谨慎操作
4. **金额输入** - 只支持数字输入,自动保留两位小数
5. **日期限制** - 暂不支持选择未来日期

## 🐛 常见问题

### Q1: 应用启动时显示"正在初始化"?
A: 这是正常现象,等待几秒数据库初始化完成即可。

### Q2: 点击保存后没有反应?
A: 请检查是否输入了有效的金额(大于0的数字)。

### Q3: 账单列表为空?
A: 首次使用时没有数据,需要先添加账单。

### Q4: 如何修改账单?
A: 当前版本暂不支持修改,可以删除后重新添加。

## 📈 下一步计划

- [ ] 添加日期选择器
- [ ] 支持账单编辑
- [ ] 添加搜索功能
- [ ] 图表可视化
- [ ] 数据导出功能
- [ ] 预算管理
- [ ] 多账本支持

## 📞 技术支持

如果遇到问题,请查看:
- [HarmonyOS开发文档](https://developer.huawei.com/consumer/cn/doc/)
- [ArkTS开发指南](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-get-started-V5)
- 项目README: `README_BILL_APP.md`

---

**祝使用愉快!** 💰📊✨
